<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://unpkg.com/colyseus.js@^0.14.0/dist/colyseus.js"></script>

    <title>Title</title>
</head>
<body>
<script>
  async function createClient() {
    const endPoint = "ws://localhost:4567";
    const client = new Colyseus.Client(endPoint);
    const room = await client.create('Mafia', {username: 'lee', jointType: 'PLAYER'});

    room.onStateChange.once((state) => {
      console.log(`initial state: ${JSON.stringify(state, null, 2)}`);
    })

    room.onStateChange.once((state) => {
      console.log(`Updated state: ${JSON.stringify(state, null, 2)}`);
    })
  }

  createClient();

</script>
</body>
</html>